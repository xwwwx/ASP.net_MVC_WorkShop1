@model workshop1.Models.OrderQueryArg
@{ ViewBag.Title = "訂單查詢頁面"; }


@using (Html.BeginForm("OrderList", "Order", FormMethod.Post))
{

    <table style="margin-top:10px;">
        <tr>
            <td>@Html.LabelFor(m => m.OrderID)</td>
            <td colspan="3">@Html.TextBoxFor(m => m.OrderID, new { type= "number", @class="form-control input-number", style="width:200px"})</td>
        </tr>
        <tr>
            <td>@Html.LabelFor(m => m.CompanyName)</td>
            <td colspan="3">@Html.TextBoxFor(m => m.CompanyName, new { @class="form-control", style = "width:200px" })</td>
        </tr>
        <tr>
            <td>@Html.LabelFor(m => m.EmployeeID)</td>
            <td colspan="3">@Html.TextBoxFor(m => m.EmployeeID, new { style = "width:200px" })</td>
        </tr>
        <tr>
            <td>@Html.LabelFor(m => m.ShipperID)</td>
            <td colspan="3">@Html.TextBoxFor(m => m.ShipperID, new { style = "width:200px" })</td>
        </tr>
        <tr>
            <td>@Html.LabelFor(m => m.OrderDate)</td>
            <td>@Html.TextBoxFor(m => m.OrderDate, new {  style = "width:200px" })</td>
            <td>@Html.LabelFor(m => m.ShippedDate)</td>
            <td>@Html.TextBoxFor(m => m.ShippedDate, new {  style = "width:200px" })</td>
        </tr>
        <tr>
            <td>@Html.LabelFor(m => m.RequiredDate)</td>
            <td colspan="3">@Html.TextBoxFor(m => m.RequiredDate, new {  style = "width:200px" })</td>
        </tr>
        <tr>
            <td></td>
            <td colspan="3">
                <input type="submit" value="查詢" class="btn btn-primary" />
                <input type="reset" value="清除" class="btn btn-warning" />
                <button type="button" class="btn btn-info" onclick="location.href='@Url.Action("CreateOrder", "Order")';">新增訂單</button>
            </td>
        </tr>
    </table>

    <script>
        $().ready(function () {
            $("#OrderDate").kendoDatePicker();
            $("#ShippedDate").kendoDatePicker();
            $("#RequiredDate").kendoDatePicker();
            let EmployeeList = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.EmployeeList));
            let EmployeeComboBoxData = [];
            EmployeeList.forEach(function (item) {
                EmployeeComboBoxData.push({
                    "text": item["FirstName"] + item["LastName"],
                    "value":item["EmployeeID"]
                });
            });
            let ShipperList = @Html.Raw(Newtonsoft.Json.JsonConvert.SerializeObject(ViewBag.ShipperList));


            $("#EmployeeID").kendoComboBox({
                dataTextField: "text",
                dataValueField: "value",
                dataSource: EmployeeComboBoxData,
                filter: "contains",
                suggest: true
            });

            $("#ShipperID").kendoComboBox({
                dataTextField: "CompanyName",
                dataValueField: "ShipperID",
                dataSource: ShipperList,
                filter: "contains",
                suggest: true
            });
        });
    </script>
}
